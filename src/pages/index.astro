---
import { Icon } from '@astrojs/starlight/components';
---

<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta
          name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
        />
        <title>ENT Stack</title>
        <meta
          name="description"
          content="Full-stack monorepo that integrates Express, Next.js, and TRPC, offering a streamlined solution for web app development."
        />
        <link rel="icon" type="image/x-icon" href=`/favicon.ico`>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Readex+Pro:wght@160..700&display=swap');
            body{
                font-family: "Readex Pro", sans-serif;
                font-weight: 400;
            }
        </style>
    </head>
    <body class="h-full bg-primary bg-fixed text-primary">
        <header data-testid="header" class="fixed left-0 right-0 top-0 z-30 mx-auto flex w-full max-w-one-col justify-center bg-primary header-based-h border-fade-header">
            <div class="relative flex w-full max-w-full items-center justify-between px-5">
                <a data-testid="logo" class="select-none text-primary hover:underline flex h-[25px] items-center justify-center hover:no-underline" href="/">
                    <div class="mr-2 text-xl">ENT Stack</div>
                    <img src=`/logo.png` alt="Logo" class="max-h-full max-w-full">
                </a>
                <a
                  href="https://github.com/ironexdev/ent-stack"
                  target="_blank"
                  class="flex size-[40px] items-center justify-center">
                    <img
                      src=`/github-icon.png`
                      alt="GitHub"
                      title="GitHub"
                      class="size-[24px]"
                    />
                </a>
            </div>
        </header>
        <main class="desktop-w-md:px-10 flex min-h-full w-full flex-col items-center px-5 header-based-pt desktop-w:px-10">
            <div class="relative min-h-full w-[1280px] max-w-full pt-10">
                <img
                  src=`/illustration.png`
                  alt="ENT Stack Illustration"
                  title="ENT Stack Illustration"
                  class="mx-auto w-[500px] max-w-[90%]"
                />
                <h1 class="text-3xl mt-8 text-center leading-tight tablet-w:text-5xl tablet-w:leading-tight desktop-w-md:leading-tight desktop-w-lg:text-6xl desktop-w-lg:leading-tight">
                   <span>
                   Where <b class="text-x-next">Next.js</b> meets <b class="text-x-express">Express</b>
                   </span>
                </h1>
                <h2
                  class="text-2xl mt-5 text-center tablet-w:text-3xl desktop-w-lg:text-5xl desktop-w-lg:text-10xl desktop-w-lg:leading-tight"
                >
                    <span>Together when you want, separate when you need</span>
                </h2>
                <div class="mt-12 flex justify-center gap-5">
                    <button
                      class="flex items-center justify-center select-none font-medium disabled:pointer-events-none disabled:opacity-50 outline-none bg-gradient-button duration-xs hover:shadow-button rounded-full text-shadow transition-colors button-animation h-[40px] min-w-[160px]"
                      type="button"
                    >
                        <a
                          title="Setup"
                          href=`/ent-stack/setup`
                          class="flex items-center justify-center w-full h-full"
                        >
                            <span>Setup</span>
                        </a>
                    </button>
                    <button
                      class="flex items-center justify-center select-none font-medium disabled:pointer-events-none disabled:opacity-50 outline-none bg-button-primary hover:bg-button-secondary transition-background-color duration-xs rounded-full h-[40px] min-w-[160px]"
                      type="button"
                    >
                        <a
                          title="Documentation"
                          href=`/ent-stack/documentation`
                          class="flex items-center justify-center w-full h-full"
                        >
                            <span>Documentation</span>
                        </a>
                    </button>
                </div>
                <div class="mx-auto mb-10 mt-16 max-w-[960px] text-lg">
                    <h3 class="text-2xl tablet-w:text-3xl desktop-w-lg:text-4xl">
                        <span>What's Inside</span>
                    </h3>
                    <p class="text-muted text-md mt-5 text-left">
                      <span>
                      The ENT Stack is a robust, full-stack monorepo that integrates Express, Next.js,
                      and TRPC, offering a streamlined solution for web app development.
                      </span>
                    </p>
                    <p class="text-muted text-md mt-5 text-left">
                      <span>
                      It allows you to build and share code between frontend and backend in a single project
                      while maintaining the flexibility to host them independently.
                      </span>
                    </p>
                    <h3 class="text-2xl tablet-w:text-3xl desktop-w-lg:text-4xl mt-12">
                        <span>Features</span>
                    </h3>
                    <div class="mt-5 text-left">
                        <p class="text-muted text-md">
                            <b>üåÄ PNPM Workspace - Monorepo</b>
                        </p>
                        <p class="text-muted text-md mt-2">
                            The stack uses <a href="https://pnpm.io" target="_blank">PNPM</a> Workspace because it's simple and painless to use. With its efficient dependency management and shared package architecture, <a href="https://pnpm.io" target="_blank">PNPM</a> ensures faster installs and a clean, modular workflow.
                        </p>
                        <ul class="list-disc pl-5 mt-2">
                            <li>The <b>apps</b> folder contains both the backend (apps/backend) and frontend (apps/frontend) codebases.</li>
                            <li>The <b>packages</b> folder includes a shared directory (packages/shared) for common configurations, utilities, services, type definitions, and translations.</li>
                        </ul>
                        <p class="text-muted text-md mt-2">
                            To maintain uniform code quality, each directory includes an eslint.config.js file with consistent rules. A root-level tsconfig.json provides a base set of TypeScript configurations, extended by each subproject as needed.
                        </p>
                    </div>

                    <div class="mt-5 text-left">
                        <p class="text-muted text-md">
                            <b>ü§ù Type-Safe API Layer</b>
                        </p>
                        <p class="text-muted text-md mt-2">
                            The stack leverages <a href="https://trpc.io" target="_blank">TRPC</a> to create a type-safe bridge between the frontend and backend, ensuring type hints and autocompletion for API endpoints directly in your IDE.
                        </p>
                    </div>

                    <div class="mt-5 text-left">
                        <p class="text-muted text-md">
                            <b>üåê Translations and Routing (i18n)</b>
                        </p>
                        <p class="text-muted text-md mt-2">
                            A custom, lightweight solution handles localization using standalone functions based on <a href="https://unicode-org.github.io/icu/userguide/format_parse/messages" target="_blank">ICU message syntax</a>.
                        </p>
                        <ul class="list-disc pl-5 mt-2">
                            <li>Translation functions can be used anywhere in the stack (backend and frontend).</li>
                            <li>Scripts for message import and export included.</li>
                            <li>Frontend routes are translatable and evaluated dynamically using <a href="https://nextjs.org" target="_blank">Next.js</a> middleware.</li>
                        </ul>
                    </div>

                    <div class="mt-5 text-left">
                        <p class="text-muted text-md">
                            <b>üîí Authentication & Authorization</b>
                        </p>
                        <p class="text-muted text-md mt-2">
                            The stack provides passwordless registration and login via short verification PINs, secure JWT tokens, and UUID-based refresh tokens. Frontend routes can be marked as protected in routes.ts, evaluated in middleware.ts.
                        </p>
                    </div>

                    <div class="mt-5 text-left">
                        <p class="text-muted text-md">
                            <b>‚öôÔ∏è Environment & Configuration</b>
                        </p>
                        <p class="text-muted text-md mt-2">
                            Uses <a href="https://env.t3.gg" target="_blank">T3 Env</a> for type-safe environment variables. Shared configuration is extended by backend and frontend-specific settings.
                        </p>
                    </div>

                    <div class="mt-5 text-left">
                        <p class="text-muted text-md">
                            <b>ü™µ Logging</b>
                        </p>
                        <p class="text-muted text-md mt-2">
                            Employs <a href="https://getpino.io" target="_blank">Pino</a> for lightweight and efficient logging across the stack.
                        </p>
                    </div>

                    <div class="mt-5 text-left">
                        <p class="text-muted text-md">
                            <b>ü™≤ Error Handling and Validation</b>
                        </p>
                        <p class="text-muted text-md mt-2">
                            Uses <a href="https://zod.dev" target="_blank">Zod</a> for input validation and type-safe error management, integrated with <a href="https://trpc.io" target="_blank">TRPC</a>.
                        </p>
                    </div>

                    <div class="mt-5 text-left">
                        <p class="text-muted text-md">
                            <b>üîÑ State Management</b>
                        </p>
                        <p class="text-muted text-md mt-2">
                            Uses <a href="https://zustand-demo.pmnd.rs" target="_blank">Zustand</a> for lightweight state management and <a href="https://tanstack.com/query/latest" target="_blank">Tanstack Query</a> for asynchronous data fetching and caching.
                        </p>
                    </div>

                    <div class="mt-5 text-left">
                        <p class="text-muted text-md">
                            <b>üõ¢Ô∏è Database</b>
                        </p>
                        <p class="text-muted text-md mt-2">
                            Uses <a href="https://orm.drizzle.team/" target="_blank">Drizzle ORM</a> for type-safe database interactions with <a href="https://www.mysql.com" target="_blank">MySQL</a>, along with Docker for local database setup.
                        </p>
                    </div>

                    <div class="mt-5 text-left">
                        <p class="text-muted text-md">
                            <b>‚úâÔ∏è Email Sending</b>
                        </p>
                        <p class="text-muted text-md mt-2">
                            Integrates <a href="https://resend.com" target="_blank">Resend</a> for email sending with templates written in <a href="https://handlebarsjs.com" target="_blank">Handlebars</a>.
                        </p>
                    </div>

                    <div class="mt-5 text-left">
                        <p class="text-muted text-md">
                            <b>ü§ñ Testing</b>
                        </p>
                        <p class="text-muted text-md mt-2">
                            Uses <a href="https://playwright.dev" target="_blank">Playwright</a> for frontend and backend testing, and <a href="https://malslurp.dev" target="_blank">Mailslurp</a> for email testing.
                        </p>
                    </div>
                </div>
            </div>
        </main>
    </body>
</html>
